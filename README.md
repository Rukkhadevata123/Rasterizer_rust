# Rust é«˜æ€§èƒ½å…‰æ …åŒ–æ¸²æŸ“å™¨ v2.0 ğŸ¨

ä¸€ä¸ªåŠŸèƒ½å®Œå¤‡çš„è½¯ä»¶å…‰æ …åŒ–æ¸²æŸ“å™¨ï¼Œé‡‡ç”¨**TOMLé©±åŠ¨é…ç½®**å’Œ**ç°ä»£åŒ–GUIç•Œé¢**ã€‚æ”¯æŒä»åŸºç¡€å‡ ä½•æ¸²æŸ“åˆ°é«˜çº§PBRæè´¨ã€å¤šå…‰æºç³»ç»Ÿã€å®æ—¶ç›¸æœºäº¤äº’ã€é…ç½®æ–‡ä»¶ç®¡ç†ç­‰ä¸“ä¸šçº§æ¸²æŸ“åŠŸèƒ½ã€‚

[![Rust Version](https://img.shields.io/badge/rust-1.81%2B-orange.svg)](https://www.rust-lang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)](https://github.com/Rukkhadevata123/Rasterizer_rust)

## ğŸ”¥ v2.0 æ ¸å¿ƒç‰¹æ€§

### ğŸ“ **TOML é…ç½®é©±åŠ¨**

- **å®Œæ•´çš„TOMLé…ç½®æ”¯æŒ** - æ‰€æœ‰æ¸²æŸ“å‚æ•°å‡å¯é€šè¿‡é…ç½®æ–‡ä»¶è®¾ç½®
- **é…ç½®æ–‡ä»¶ç®¡ç†** - ä¸€é”®åŠ è½½/ä¿å­˜é…ç½®ï¼Œç¤ºä¾‹é…ç½®ç”Ÿæˆ
- **å‚æ•°éªŒè¯ç³»ç»Ÿ** - æ™ºèƒ½æ£€æµ‹å¹¶æç¤ºé…ç½®é”™è¯¯
- **å‘åå…¼å®¹** - CLIå‚æ•°ä¸TOMLé…ç½®æ— ç¼é›†æˆ

### ğŸ–¥ï¸ **ç°ä»£åŒ–GUIç•Œé¢**

- **ä¸“ä¸šçº§ç›¸æœºäº¤äº’** - é¼ æ ‡æ‹–æ‹½ã€Shift+è½¨é“æ—‹è½¬ã€æ»šè½®ç¼©æ”¾
- **å®æ—¶å‚æ•°è°ƒæ•´** - æ‰€è§å³æ‰€å¾—çš„å‚æ•°ç¼–è¾‘ä½“éªŒ
- **å¤šé¢æ¿è®¾è®¡** - æ–‡ä»¶ç®¡ç†ã€æ¸²æŸ“è®¾ç½®ã€æè´¨è°ƒæ•´ã€åŠ¨ç”»æ§åˆ¶
- **ä¸­æ–‡ç•Œé¢æ”¯æŒ** - å®Œæ•´çš„æœ¬åœ°åŒ–ç”¨æˆ·ç•Œé¢

### âš¡ **é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“**

- **å¤šçº¿ç¨‹å…‰æ …åŒ–** - å……åˆ†åˆ©ç”¨ç°ä»£å¤šæ ¸CPUæ€§èƒ½
- **æ™ºèƒ½å‰”é™¤ç³»ç»Ÿ** - èƒŒé¢å‰”é™¤ã€è§†é”¥å‰”é™¤ã€å°ä¸‰è§’å½¢å‰”é™¤
- **å¢å¼ºAOç®—æ³•** - åŸºäºæ³•çº¿ã€è¾¹ç¼˜ã€æ›²ç‡çš„é«˜çº§ç¯å¢ƒå…‰é®è”½
- **è½¯é˜´å½±æ•ˆæœ** - å¤šå…‰æºè½¯é˜´å½±ï¼Œå¯è°ƒå¼ºåº¦æ§åˆ¶

### ğŸ¬ **åŠ¨ç”»ä¸è§†é¢‘ç³»ç»Ÿ**

- **å®æ—¶åŠ¨ç”»æ¸²æŸ“** - æ”¯æŒç›¸æœºè½¨é“å’Œç‰©ä½“æ—‹è½¬åŠ¨ç”»
- **é¢„æ¸²æŸ“æ¨¡å¼** - é¢„è®¡ç®—å¸§åºåˆ—ï¼Œç¡®ä¿æµç•…æ’­æ”¾
- **è§†é¢‘ç”Ÿæˆ** - é›†æˆFFmpegï¼Œä¸€é”®ç”ŸæˆMP4åŠ¨ç”»
- **å¸§ç‡ç»Ÿè®¡** - å®æ—¶FPSç›‘æ§å’Œæ€§èƒ½åˆ†æ

## ç›®å½•

- [å®‰è£…ä¸æ„å»º](#å®‰è£…ä¸æ„å»º)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é…ç½®æ–‡ä»¶è¯¦è§£](#é…ç½®æ–‡ä»¶è¯¦è§£)
- [GUIä½¿ç”¨æŒ‡å—](#guiä½¿ç”¨æŒ‡å—)
- [å‘½ä»¤è¡Œæ¨¡å¼](#å‘½ä»¤è¡Œæ¨¡å¼)
- [æ¸²æŸ“ç®¡çº¿](#æ¸²æŸ“ç®¡çº¿)
- [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„)
- [ç¤ºä¾‹ä¸æ•™ç¨‹](#ç¤ºä¾‹ä¸æ•™ç¨‹)

## å®‰è£…ä¸æ„å»º

### ç¯å¢ƒè¦æ±‚

- **Rust**: 1.81+ (æ¨èæœ€æ–°ç¨³å®šç‰ˆ)
- **ä¾èµ–åº“**: è‡ªåŠ¨é€šè¿‡Cargoç®¡ç†
- **FFmpeg**: (å¯é€‰) ç”¨äºè§†é¢‘ç”ŸæˆåŠŸèƒ½

#### å®‰è£…FFmpeg

**Windows**:

```powershell
# ä½¿ç”¨Chocolatey
choco install ffmpeg

# ä½¿ç”¨Winget
winget install Gyan.FFmpeg

# æˆ–ä»å®˜ç½‘ä¸‹è½½å¹¶æ·»åŠ åˆ°PATH
# https://ffmpeg.org/download.html
```

**macOS**:

```bash
brew install ffmpeg
```

**Ubuntu/Debian**:

```bash
sudo apt-get update
sudo apt-get install ffmpeg libxcb-render0-dev libxcb-shape0-dev libxcb-xfixes0-dev libxkbcommon-dev libssl-dev pkg-config
```

### æ„å»ºæ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/Rukkhadevata123/Rasterizer_rust
cd Rasterizer_rust

# 2. æ„å»º (å¼€å‘æ¨¡å¼)
cargo build

# 3. æ„å»º (å‘å¸ƒæ¨¡å¼ï¼Œæ¨è)
cargo build --release

# 4. è¿è¡Œ
cargo run --release
```

## å¿«é€Ÿå¼€å§‹

### ğŸš€ GUIæ¨¡å¼ (æ¨è)

```bash
# å¯åŠ¨GUI (é»˜è®¤é…ç½®)
cargo run --release

# ä»é…ç½®æ–‡ä»¶å¯åŠ¨GUI
cargo run --release -- --config my_config.toml

# ä½¿ç”¨ç¤ºä¾‹é…ç½®å¯åŠ¨GUI
cargo run --release -- --use-example-config
```

### âš¡ å‘½ä»¤è¡Œæ¨¡å¼

```bash
# ç”Ÿæˆç¤ºä¾‹é…ç½®æ–‡ä»¶
cargo run --release -- --use-example-config --headless

# ä½¿ç”¨é…ç½®æ–‡ä»¶è¿›è¡Œæ— å¤´æ¸²æŸ“
cargo run --release -- --config example_config.toml --headless
```

## é…ç½®æ–‡ä»¶è¯¦è§£

### åŸºç¡€é…ç½®ç»“æ„

```toml
# config.toml - å®Œæ•´é…ç½®ç¤ºä¾‹

[files]
obj = "obj/models/spot/spot_triangulated.obj"
output = "my_render"
output_dir = "output"
texture = "obj/models/spot/spot_texture.png"          # å¯é€‰
background_image = "backgrounds/skybox.jpg"           # å¯é€‰

[render]
width = 1920
height = 1080
projection = "perspective"                             # "perspective" | "orthographic"
use_zbuffer = true
use_texture = true
use_gamma = true
backface_culling = true
enhanced_ao = true                                     # ğŸ”¥ å¢å¼ºç¯å¢ƒå…‰é®è”½
soft_shadows = true                                    # ğŸ”¥ è½¯é˜´å½±æ•ˆæœ

[camera]
from = "2.5,1.5,4.0"                                  # ç›¸æœºä½ç½®
at = "0,0.5,0"                                        # è§‚å¯Ÿç›®æ ‡
up = "0,1,0"                                          # ä¸Šæ–¹å‘
fov = 60.0                                            # è§†åœºè§’(åº¦)

[object]
position = "0,0.2,0"                                  # ç‰©ä½“ä½ç½®
rotation = "15,30,0"                                  # æ—‹è½¬è§’åº¦(åº¦)
scale_xyz = "1.2,1.0,1.2"                           # éå‡åŒ€ç¼©æ”¾
scale = 1.5                                           # å…¨å±€ç¼©æ”¾

[lighting]
use_lighting = true
ambient = 0.2                                         # ç¯å¢ƒå…‰å¼ºåº¦
ambient_color = "0.2,0.3,0.4"                       # ç¯å¢ƒå…‰é¢œè‰²

# ğŸ”¥ å¤šå…‰æºé…ç½® - æ”¯æŒä»»æ„æ•°é‡çš„å…‰æº
[[light]]
type = "directional"
enabled = true
direction = "0.3,-0.8,-0.5"
color = "1.0,0.95,0.8"
intensity = 0.8

[[light]]
type = "point"
enabled = true
position = "2.0,3.0,2.0"
color = "1.0,0.8,0.6"
intensity = 2.5
constant_attenuation = 1.0
linear_attenuation = 0.09
quadratic_attenuation = 0.032

[material]
use_phong = true                                      # Phongç€è‰²
use_pbr = false                                       # PBRç€è‰²
# Phongå‚æ•°
diffuse_color = "0.7,0.5,0.3"
specular = 0.8
shininess = 64.0
# PBRå‚æ•°
base_color = "0.8,0.6,0.4"
metallic = 0.1
roughness = 0.3
# å¢å¼ºæ•ˆæœå‚æ•°
enhanced_ao = true
ao_strength = 0.6                                     # AOå¼ºåº¦
soft_shadows = true
shadow_strength = 0.8                                 # é˜´å½±å¼ºåº¦

[background]
use_background_image = false
enable_gradient_background = true                      # æ¸å˜èƒŒæ™¯
gradient_top_color = "0.3,0.5,0.8"
gradient_bottom_color = "0.8,0.6,0.4"
enable_ground_plane = true                            # åœ°é¢å¹³é¢
ground_plane_color = "0.4,0.6,0.3"
ground_plane_height = -0.5

[animation]
animate = false                                       # CLIåŠ¨ç”»æ¨¡å¼
fps = 60                                             # è§†é¢‘å¸§ç‡
rotation_speed = 0.8                                 # å®æ—¶æ¸²æŸ“é€Ÿåº¦
rotation_cycles = 2.0                                # è§†é¢‘æ—‹è½¬åœˆæ•°
animation_type = "CameraOrbit"                       # "CameraOrbit" | "ObjectLocalRotation" | "None"
rotation_axis = "Y"                                  # "X" | "Y" | "Z" | "Custom"
custom_rotation_axis = "0.2,1,0.3"                  # è‡ªå®šä¹‰è½´(å½“rotation_axis="Custom")
```

### å¿«é€Ÿé…ç½®æ¨¡æ¿

```bash
# ç”ŸæˆåŸºç¡€é…ç½®æ¨¡æ¿
cargo run --release -- --use-example-config

# ç¼–è¾‘é…ç½®æ–‡ä»¶
# æ ¹æ®éœ€è¦ä¿®æ”¹ temp_example_config.toml

# ä½¿ç”¨é…ç½®æ–‡ä»¶å¯åŠ¨
cargo run --release -- --config temp_example_config.toml
```

## GUIä½¿ç”¨æŒ‡å—

### ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  å…‰æ …åŒ–æ¸²æŸ“å™¨ | çŠ¶æ€ä¿¡æ¯ | FPSæ˜¾ç¤º | Ctrl+R: å¿«é€Ÿæ¸²æŸ“    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                              â”‚
â”‚ ğŸ›ï¸ æ§åˆ¶é¢æ¿    â”‚           ğŸ–¼ï¸ æ¸²æŸ“ç»“æœæ˜¾ç¤ºåŒºåŸŸ                â”‚
â”‚              â”‚                                              â”‚
â”‚ ğŸ“ æ–‡ä»¶è®¾ç½®     â”‚           ğŸ–±ï¸ ç›¸æœºäº¤äº’åŒºåŸŸ                   â”‚
â”‚ ğŸ¨ æ¸²æŸ“è®¾ç½®     â”‚                                              â”‚
â”‚ ğŸ”§ ç‰©ä½“å˜æ¢     â”‚           å³ä¸‹è§’: äº¤äº’æç¤ºé¢æ¿               â”‚
â”‚ ğŸ“· ç›¸æœºè®¾ç½®     â”‚                                              â”‚
â”‚ ğŸ’¡ å…‰ç…§è®¾ç½®     â”‚                                              â”‚
â”‚ ğŸ­ æè´¨è®¾ç½®     â”‚                                              â”‚
â”‚ ğŸ¬ åŠ¨ç”»è®¾ç½®     â”‚                                              â”‚
â”‚ ğŸ”´ æ¸²æŸ“æŒ‰é’®     â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”¥ é…ç½®æ–‡ä»¶ç®¡ç†

åœ¨"æ–‡ä»¶ä¸è¾“å‡ºè®¾ç½®"é¢æ¿ä¸­ï¼š

- **ğŸ“ åŠ è½½é…ç½®** - ä».tomlæ–‡ä»¶åŠ è½½å®Œæ•´é…ç½®
- **ğŸ’¾ ä¿å­˜é…ç½®** - å°†å½“å‰è®¾ç½®ä¿å­˜ä¸º.tomlæ–‡ä»¶
- **ğŸ“‹ ç¤ºä¾‹é…ç½®** - å¿«é€Ÿåº”ç”¨å†…ç½®ç¤ºä¾‹é…ç½®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ–‡ä»¶ä¸è¾“å‡ºè®¾ç½®                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ OBJæ–‡ä»¶: [path/to/model.obj] [æµè§ˆ...]   â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚ é…ç½®æ–‡ä»¶: [ğŸ“åŠ è½½é…ç½®] [ğŸ’¾ä¿å­˜é…ç½®] [ğŸ“‹ç¤ºä¾‹] â”‚
â”‚ ğŸ’¡ æç¤ºï¼šåŠ è½½é…ç½®ä¼šè¦†ç›–å½“å‰æ‰€æœ‰è®¾ç½®       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ–±ï¸ ç›¸æœºäº¤äº’ç³»ç»Ÿ

åœ¨ä¸­å¤®æ¸²æŸ“åŒºåŸŸè¿›è¡Œ3Då¯¼èˆªï¼š

| æ“ä½œ | åŠŸèƒ½ |
|------|------|
| **é¼ æ ‡æ‹–æ‹½** | å¹³ç§»ç›¸æœºè§†è§’ |
| **Shift + æ‹–æ‹½** | å›´ç»•ç›®æ ‡è½¨é“æ—‹è½¬ |
| **é¼ æ ‡æ»šè½®** | æ¨æ‹‰ç¼©æ”¾ |
| **Ré”®** | é‡ç½®åˆ°é»˜è®¤è§†è§’ |
| **Fé”®** | èšç„¦åˆ°ç‰©ä½“ä¸­å¿ƒ |

**æ•æ„Ÿåº¦è°ƒèŠ‚**: åœ¨"ç›¸æœºè®¾ç½®"é¢æ¿ä¸­å¯ç‹¬ç«‹è°ƒæ•´å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾çš„å“åº”é€Ÿåº¦ã€‚

### ğŸ¬ åŠ¨ç”»æ¸²æŸ“æ¨¡å¼

#### å®æ—¶åŠ¨ç”»æ¸²æŸ“

```
[å¼€å§‹åŠ¨ç”»æ¸²æŸ“] æŒ‰é’® â†’ ç«‹å³å¼€å§‹æ—‹è½¬åŠ¨ç”»
â”œâ”€â”€ æ˜¾ç¤ºå®æ—¶FPSç»Ÿè®¡
â”œâ”€â”€ æ”¯æŒç›¸æœºäº¤äº’è°ƒæ•´è§‚å¯Ÿè§’åº¦  
â”œâ”€â”€ å¯è°ƒèŠ‚æ—‹è½¬é€Ÿåº¦
â””â”€â”€ [åœæ­¢åŠ¨ç”»æ¸²æŸ“] åœæ­¢æ’­æ”¾
```

#### é¢„æ¸²æŸ“æ¨¡å¼

```
â˜‘ï¸ å¯ç”¨é¢„æ¸²æŸ“æ¨¡å¼ â†’ [å¼€å§‹åŠ¨ç”»æ¸²æŸ“]
â”œâ”€â”€ é¦–æ¬¡: é¢„å…ˆè®¡ç®—æ‰€æœ‰å¸§ (æ˜¾ç¤ºè¿›åº¦)
â”œâ”€â”€ å®Œæˆå: æµç•…æ’­æ”¾é¢„æ¸²æŸ“å¸§
â”œâ”€â”€ é€‚åˆå¤æ‚åœºæ™¯å’Œé«˜è´¨é‡é¢„è§ˆ
â””â”€â”€ å ç”¨æ›´å¤šå†…å­˜ï¼Œä½†æ’­æ”¾æ— å¡é¡¿
```

### ğŸ¥ è§†é¢‘ç”Ÿæˆå·¥ä½œæµ

1. **é…ç½®å‚æ•°**: åœ¨"åŠ¨ç”»è®¾ç½®"ä¸­è°ƒæ•´fpsã€æ—‹è½¬åœˆæ•°ã€åŠ¨ç”»ç±»å‹
2. **é¢„è§ˆæ•ˆæœ**: ä½¿ç”¨å®æ—¶åŠ¨ç”»æ¸²æŸ“é¢„è§ˆæ•ˆæœ
3. **ç”Ÿæˆè§†é¢‘**: ç‚¹å‡»"ç”Ÿæˆè§†é¢‘"æŒ‰é’®ï¼Œåå°æ¸²æŸ“å¹¶åˆæˆMP4
4. **è¿›åº¦ç›‘æ§**: çŠ¶æ€æ æ˜¾ç¤ºæ¸²æŸ“è¿›åº¦å’Œé¢„è®¡æ—¶é—´

## å‘½ä»¤è¡Œæ¨¡å¼

### CLI å‚æ•°æ€»è§ˆ

```bash
cargo run --release -- [OPTIONS]

OPTIONS:
    -c, --config <FILE>        ğŸ“ æŒ‡å®šTOMLé…ç½®æ–‡ä»¶è·¯å¾„
        --headless             ğŸš€ æ— å¤´æ¨¡å¼(ä¸å¯åŠ¨GUI)
        --use-example-config   ğŸ“‹ ä½¿ç”¨ç¤ºä¾‹é…ç½®
    -h, --help                 æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### ä½¿ç”¨åœºæ™¯

#### ğŸ”§ é…ç½®æ–‡ä»¶å¼€å‘

```bash
# 1. ç”Ÿæˆç¤ºä¾‹é…ç½®
cargo run --release -- --use-example-config

# 2. ç¼–è¾‘é…ç½®æ–‡ä»¶
notepad temp_example_config.toml  # Windows
# æˆ–
vim temp_example_config.toml      # Linux/macOS

# 3. æµ‹è¯•é…ç½® (GUIæ¨¡å¼)
cargo run --release -- --config temp_example_config.toml

# 4. æ— å¤´æ‰¹é‡æ¸²æŸ“
cargo run --release -- --config temp_example_config.toml --headless
```

#### ğŸ¤– è‡ªåŠ¨åŒ–æ¸²æŸ“

```bash
# æ‰¹é‡å¤„ç†å¤šä¸ªé…ç½®
for config in configs/*.toml; do
    cargo run --release -- --config "$config" --headless
done
```

#### ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²

```dockerfile
# Dockerfileç¤ºä¾‹
FROM rust:1.81
COPY . /app
WORKDIR /app
RUN cargo build --release
CMD ["./target/release/rasterizer", "--config", "production.toml", "--headless"]
```

## æ¸²æŸ“ç®¡çº¿

```mermaid
graph TD
    A[TOMLé…ç½®åŠ è½½] --> B[åœºæ™¯æ„å»º]
    B --> C[å‡ ä½•å˜æ¢ç®¡çº¿]
    
    subgraph å‡ ä½•å¤„ç†
        C --> D[æ¨¡å‹å˜æ¢]
        D --> E[è§†å›¾å˜æ¢]
        E --> F[æŠ•å½±å˜æ¢]
        F --> G[è§†å£å˜æ¢]
    end
    
    G --> H[ä¸‰è§’å½¢ç­›é€‰]
    
    subgraph æ™ºèƒ½å‰”é™¤
        H --> H1[è§†é”¥å‰”é™¤]
        H1 --> H2[èƒŒé¢å‰”é™¤]
        H2 --> H3[å°ä¸‰è§’å½¢å‰”é™¤]
    end
    
    H3 --> I[å¤šçº¿ç¨‹å…‰æ …åŒ–]
    
    subgraph åƒç´ ç€è‰²
        I --> J1[é‡å¿ƒåæ ‡æ’å€¼]
        J1 --> J2[æ·±åº¦æµ‹è¯•]
        J2 --> J3[çº¹ç†é‡‡æ ·]
        J3 --> J4[æ³•çº¿æ’å€¼]
    end
    
    subgraph é«˜çº§å…‰ç…§
        J4 --> K1{ç€è‰²æ¨¡å‹}
        K1 -->|Phong| K2[Blinn-Phongç€è‰²]
        K1 -->|PBR| K3[åŸºäºç‰©ç†æ¸²æŸ“]
        K2 --> K4[å¤šå…‰æºè®¡ç®—]
        K3 --> K4
        K4 --> K5[ğŸ”¥ å¢å¼ºAO]
        K5 --> K6[ğŸ”¥ è½¯é˜´å½±]
        K6 --> K7[Gammaæ ¡æ­£]
    end
    
    K7 --> L[å¸§ç¼“å†²è¾“å‡º]
    L --> M[å›¾åƒä¿å­˜/æ˜¾ç¤º]
    
    subgraph åŠ¨ç”»ç³»ç»Ÿ
        M --> N1[å®æ—¶åŠ¨ç”»]
        M --> N2[é¢„æ¸²æŸ“å¸§åºåˆ—]
        N2 --> N3[FFmpegè§†é¢‘åˆæˆ]
    end
    
    subgraph GUIäº¤äº’
        M --> O1[ç›¸æœºäº¤äº’]
        O1 --> O2[å‚æ•°å®æ—¶è°ƒæ•´]
        O2 --> C
    end
```

## é¡¹ç›®æ¶æ„

```
src/
â”œâ”€â”€ ğŸ—ï¸ core/                    # æ ¸å¿ƒæ¸²æŸ“å¼•æ“
â”‚   â”œâ”€â”€ frame_buffer.rs         # å¸§ç¼“å†²åŒºä¸èƒŒæ™¯ç®¡ç†
â”‚   â”œâ”€â”€ geometry_processor.rs   # å‡ ä½•å˜æ¢å¤„ç†å™¨
â”‚   â”œâ”€â”€ renderer.rs            # ä¸»æ¸²æŸ“å™¨åè°ƒ
â”‚   â”œâ”€â”€ triangle_processor.rs  # ä¸‰è§’å½¢å¤„ç†ä¸å‡†å¤‡
â”‚   â”œâ”€â”€ parallel_rasterizer.rs # ğŸ”¥ æ™ºèƒ½å¹¶è¡Œå…‰æ …åŒ–å™¨
â”‚   â”œâ”€â”€ rasterizer/            # ğŸ”¥ æ¨¡å—åŒ–å…‰æ …åŒ–ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ mod.rs             # æ¨¡å—å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ triangle_data.rs   # æ ¸å¿ƒæ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ pixel_processor.rs # åƒç´ å¤„ç†æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ color_calculator.rs# é¢œè‰²è®¡ç®—ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ texture_sampler.rs # çº¹ç†é‡‡æ ·ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ lighting_effects.rs# å…‰ç…§æ•ˆæœè®¡ç®—
â”‚   â””â”€â”€ mod.rs                 # æ ¸å¿ƒæ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“ geometry/                # å‡ ä½•å¤„ç†æ¨¡å—  
â”‚   â”œâ”€â”€ camera.rs              # ä¸“ä¸šç›¸æœºç³»ç»Ÿ
â”‚   â”œâ”€â”€ transform.rs           # å‡ ä½•å˜æ¢çŸ©é˜µ
â”‚   â”œâ”€â”€ culling.rs             # æ™ºèƒ½å‰”é™¤ç®—æ³•
â”‚   â””â”€â”€ interpolation.rs       # æ’å€¼ç®—æ³•
â”œâ”€â”€ ğŸ“ io/                      # ğŸ”¥ é…ç½®ä¸IOç³»ç»Ÿ
â”‚   â”œâ”€â”€ config_loader.rs       # TOMLé…ç½®ç®¡ç†å™¨
â”‚   â”œâ”€â”€ simple_cli.rs          # æç®€CLIå¤„ç†
â”‚   â”œâ”€â”€ render_settings.rs     # ç»Ÿä¸€é…ç½®æ•°æ®ç»“æ„
â”‚   â””â”€â”€ model_loader.rs        # æ¨¡å‹èµ„æºåŠ è½½
â”œâ”€â”€ ğŸ’¡ material_system/         # æè´¨ä¸å…‰ç…§
â”‚   â”œâ”€â”€ light.rs               # å¤šå…‰æºç³»ç»Ÿ
â”‚   â”œâ”€â”€ materials.rs           # Phong/PBRæè´¨
â”‚   â”œâ”€â”€ texture.rs             # çº¹ç†ç®¡ç†
â”‚   â””â”€â”€ color.rs               # é¢œè‰²å¤„ç†
â”œâ”€â”€ ğŸ¬ scene/                   # åœºæ™¯ç®¡ç†
â”‚   â”œâ”€â”€ scene_utils.rs         # åœºæ™¯æ„å»ºä¸ç»Ÿè®¡
â”‚   â””â”€â”€ scene_object.rs        # åœºæ™¯å¯¹è±¡å˜æ¢
â”œâ”€â”€ ğŸ–¥ï¸ ui/                      # ç°ä»£åŒ–GUIç•Œé¢
â”‚   â”œâ”€â”€ app.rs                 # eframeåº”ç”¨ä¸»é€»è¾‘
â”‚   â”œâ”€â”€ widgets.rs             # è‡ªå®šä¹‰UIç»„ä»¶
â”‚   â”œâ”€â”€ render_ui.rs           # æ–‡ä»¶é€‰æ‹©ä¸é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ core.rs                # GUIæ ¸å¿ƒæ–¹æ³•
â”‚   â””â”€â”€ animation.rs           # åŠ¨ç”»æ§åˆ¶é€»è¾‘
â”œâ”€â”€ ğŸ› ï¸ utils/                   # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ render_utils.rs        # æ¸²æŸ“è¾…åŠ©å‡½æ•°
â”‚   â”œâ”€â”€ model_utils.rs         # æ¨¡å‹å¤„ç†å·¥å…·
â”‚   â””â”€â”€ save_utils.rs          # æ–‡ä»¶ä¿å­˜å·¥å…·
â””â”€â”€ main.rs                    # ç¨‹åºå…¥å£ç‚¹
```

### ğŸ”¥ v2.0 æ¶æ„äº®ç‚¹

- **ğŸ¯ é…ç½®é©±åŠ¨æ¶æ„**: `RenderSettings`ä½œä¸ºå•ä¸€æ•°æ®æºï¼ŒCLI/GUI/TOMLä¸‰è€…ç»Ÿä¸€
- **ğŸ“¦ æ¨¡å—åŒ–è®¾è®¡**: å…‰æ …åŒ–å™¨æ‹†åˆ†ä¸ºå¤šä¸ªä¸“èŒæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **âš¡ æ™ºèƒ½å¹¶è¡Œæ¸²æŸ“**: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜å¹¶è¡Œç­–ç•¥ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
- **ğŸ”„ å®æ—¶äº¤äº’**: GUIå‚æ•°å˜åŒ–ç«‹å³åæ˜ åˆ°æ¸²æŸ“ç»“æœ
- **ğŸ’¾ çŠ¶æ€ç®¡ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ã€è¿›åº¦ç›‘æ§ã€èµ„æºæ¸…ç†

## ç¤ºä¾‹ä¸æ•™ç¨‹

### ğŸ“š åŸºç¡€æ¸²æŸ“ç¤ºä¾‹

#### ç®€å•æ¨¡å‹æ¸²æŸ“

```bash
# 1. åˆ›å»ºåŸºç¡€é…ç½®
cargo run --release -- --use-example-config

# 2. ç¼–è¾‘é…ç½® - è®¾ç½®è‡ªå·±çš„æ¨¡å‹
[files]
obj = "path/to/your/model.obj"
output = "my_first_render"

# 3. GUIæ¨¡å¼æ¸²æŸ“
cargo run --release -- --config temp_example_config.toml
```

#### PBRæè´¨å±•ç¤º

```toml
[material]
use_pbr = true
base_color = "0.9,0.7,0.5"      # é‡‘å±åŸºè‰²
metallic = 0.8                   # é«˜é‡‘å±åº¦
roughness = 0.2                  # ä½ç²—ç³™åº¦(å…‰æ»‘)
enhanced_ao = true
ao_strength = 0.7

[[light]]
type = "directional"
direction = "0.2,-1.0,-0.3"
color = "1.0,0.9,0.8"            # æš–è‰²è°ƒä¸»å…‰
intensity = 1.2

[[light]]
type = "point"
position = "3.0,2.0,3.0"
color = "0.6,0.8,1.0"            # å†·è‰²è°ƒè¡¥å…‰
intensity = 0.8
```

### ğŸ¬ åŠ¨ç”»åˆ¶ä½œå·¥ä½œæµ

#### ç›¸æœºè½¨é“åŠ¨ç”»

```toml
[animation]
animation_type = "CameraOrbit"
rotation_axis = "Y"
rotation_cycles = 1.0            # å®Œæ•´ä¸€åœˆ
fps = 30                         # 30fpsè§†é¢‘

[camera]
from = "3.0,1.0,3.0"            # èµ·å§‹ä½ç½®
at = "0,0.5,0"                  # è§‚å¯Ÿä¸­å¿ƒ
```

**æ“ä½œæµç¨‹**:

1. åœ¨GUIä¸­ç‚¹å‡»"å¼€å§‹åŠ¨ç”»æ¸²æŸ“"é¢„è§ˆæ•ˆæœ
2. è°ƒæ•´ç›¸æœºä½ç½®å’Œæ—‹è½¬é€Ÿåº¦
3. å¯ç”¨é¢„æ¸²æŸ“æ¨¡å¼è¿›è¡Œé«˜è´¨é‡é¢„è§ˆ
4. æ»¡æ„åç‚¹å‡»"ç”Ÿæˆè§†é¢‘"å¯¼å‡ºMP4

#### ç‰©ä½“æ—‹è½¬å±•ç¤º

```toml
[animation]
animation_type = "ObjectLocalRotation"
rotation_axis = "Custom"
custom_rotation_axis = "0.3,1.0,0.2"  # å€¾æ–œè½´æ—‹è½¬
rotation_cycles = 2.0                   # ä¸¤åœˆå±•ç¤º

[object]
position = "0,0,0"
scale = 1.5                            # æ”¾å¤§å±•ç¤º
```

### ğŸ­ ç”Ÿäº§ç¯å¢ƒé…ç½®

#### é«˜è´¨é‡é™æ€æ¸²æŸ“

```toml
[render]
width = 3840                     # 4Kåˆ†è¾¨ç‡
height = 2160
enhanced_ao = true
ao_strength = 0.8
soft_shadows = true
shadow_strength = 0.6

[lighting]
ambient = 0.15                   # é€‚ä¸­ç¯å¢ƒå…‰

# ä¸‰ç‚¹å¸ƒå…‰è®¾ç½®
[[light]]
type = "directional"             # ä¸»å…‰æº
direction = "0.3,-0.8,-0.5"
intensity = 1.0

[[light]]
type = "point"                   # è¡¥å…‰æº
position = "-2.0,1.5,2.0"
intensity = 0.6

[[light]]
type = "point"                   # è½®å»“å…‰
position = "1.5,0.5,-2.0"
intensity = 0.4
```

#### æ‰¹é‡æ¸²æŸ“è„šæœ¬

```bash
#!/bin/bash
# batch_render.sh

models_dir="assets/models"
output_dir="rendered_images"
config_template="templates/high_quality.toml"

for model_file in "$models_dir"/*.obj; do
    model_name=$(basename "$model_file" .obj)
    
    # å¤åˆ¶é…ç½®æ¨¡æ¿
    config_file="temp_${model_name}_config.toml"
    cp "$config_template" "$config_file"
    
    # ä¿®æ”¹é…ç½®ä¸­çš„æ¨¡å‹è·¯å¾„
    sed -i "s|PLACEHOLDER_MODEL|$model_file|g" "$config_file"
    sed -i "s|PLACEHOLDER_OUTPUT|$model_name|g" "$config_file"
    
    # æ— å¤´æ¸²æŸ“
    cargo run --release -- --config "$config_file" --headless
    
    # æ¸…ç†ä¸´æ—¶é…ç½®
    rm "$config_file"
    
    echo "âœ… å®Œæˆæ¸²æŸ“: $model_name"
done

echo "ğŸ‰ æ‰¹é‡æ¸²æŸ“å®Œæˆï¼"
```

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ğŸ’» ç¡¬ä»¶é…ç½®

- **CPU**: æ¨è8æ ¸å¿ƒä»¥ä¸Šï¼Œå—ç›Šäºå¤šçº¿ç¨‹å…‰æ …åŒ–
- **å†…å­˜**: 16GB+ï¼Œæ”¯æŒå¤§æ¨¡å‹å’Œé¢„æ¸²æŸ“ç¼“å­˜
- **å­˜å‚¨**: SSDä¼˜å…ˆï¼ŒåŠ é€Ÿçº¹ç†å’Œæ¨¡å‹åŠ è½½

### âš™ï¸ æ¸²æŸ“è®¾ç½®ä¼˜åŒ–

#### é«˜æ€§èƒ½è®¾ç½®

```toml
[render]
cull_small_triangles = true      # å‰”é™¤å°ä¸‰è§’å½¢
min_triangle_area = 0.001       # å‰”é™¤é˜ˆå€¼
backface_culling = true         # èƒŒé¢å‰”é™¤
```

#### é«˜è´¨é‡è®¾ç½®

```toml
[render]
enhanced_ao = true
ao_strength = 0.8
soft_shadows = true
shadow_strength = 0.6
use_gamma = true                # Gammaæ ¡æ­£
```

#### å¹³è¡¡è®¾ç½®

```toml
[render]
enhanced_ao = true
ao_strength = 0.5               # é€‚ä¸­AOå¼ºåº¦
soft_shadows = true  
shadow_strength = 0.4           # é€‚ä¸­é˜´å½±å¼ºåº¦
cull_small_triangles = true
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### ğŸ”§ ç¼–è¯‘é—®é¢˜

```bash
# ç¡®ä¿Rustç‰ˆæœ¬
rustc --version  # åº”ä¸º1.81+

# æ¸…ç†é‡æ–°æ„å»º
cargo clean
cargo build --release
```

#### ğŸ“ æ–‡ä»¶åŠ è½½é—®é¢˜

```bash
# æ£€æŸ¥æ–‡ä»¶è·¯å¾„
ls -la obj/models/        # Linux/macOS
dir obj\models\           # Windows

# éªŒè¯æ–‡ä»¶æ ¼å¼
file model.obj            # åº”æ˜¾ç¤ºASCII text
```

#### ğŸ¥ è§†é¢‘ç”Ÿæˆé—®é¢˜

```bash
# æ£€æŸ¥FFmpeg
ffmpeg -version

# Windowså®‰è£…FFmpeg
choco install ffmpeg

# æ£€æŸ¥è¾“å‡ºç›®å½•æƒé™
ls -la output_directory/
```

#### ğŸ–±ï¸ ç›¸æœºäº¤äº’æ— å“åº”

- ç¡®ä¿åœ¨**ä¸­å¤®æ¸²æŸ“åŒºåŸŸ**æ“ä½œï¼Œä¸æ˜¯å·¦ä¾§é¢æ¿
- é¦–å…ˆè¿›è¡Œä¸€æ¬¡æ¸²æŸ“ï¼Œç”Ÿæˆå›¾åƒåæ‰èƒ½äº¤äº’
- æ£€æŸ¥é¼ æ ‡æ˜¯å¦åœ¨å›¾åƒåŒºåŸŸå†…

### ğŸ“Š æ€§èƒ½åˆ†æ

#### å†…å­˜ä½¿ç”¨

```bash
# æŸ¥çœ‹å†…å­˜å ç”¨
top -p $(pgrep rasterizer)    # Linux
# æˆ–åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­æŸ¥çœ‹        # Windows
```

#### æ¸²æŸ“æ€§èƒ½

```toml
# åœ¨GUIä¸­å¯ç”¨FPSæ˜¾ç¤º
# å®æ—¶åŠ¨ç”»æ¸²æŸ“æ—¶æŸ¥çœ‹å³ä¸Šè§’FPSç»Ÿè®¡
# ç›®æ ‡: 
# - ç®€å•åœºæ™¯: 30+ FPS
# - å¤æ‚åœºæ™¯: 15+ FPS  
# - é«˜è´¨é‡æ¸²æŸ“: 5+ FPS
```

## è´¡çŒ®æŒ‡å—

### ğŸ› ï¸ å¼€å‘ç¯å¢ƒæ­å»º

```bash
# 1. Forké¡¹ç›®
git clone https://github.com/Rukkhadevata123/Rasterizer_rust
cd Rasterizer_rust

# 2. åˆ›å»ºå¼€å‘åˆ†æ”¯
git checkout -b feature/your-feature-name

# 3. å®‰è£…å¼€å‘ä¾èµ–
cargo install cargo-clippy cargo-fmt

# 4. è¿è¡Œæµ‹è¯•
cargo test
cargo clippy
cargo fmt
```

### ğŸ“ ä»£ç è§„èŒƒ

- **Rusté£æ ¼**: éµå¾ªå®˜æ–¹Rustä»£ç è§„èŒƒ
- **æ³¨é‡Šè¯­è¨€**: ä¸­æ–‡æ³¨é‡Šï¼Œè‹±æ–‡å˜é‡å
- **æäº¤ä¿¡æ¯**: ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼
- **æµ‹è¯•è¦†ç›–**: æ–°åŠŸèƒ½éœ€è¦ç›¸åº”æµ‹è¯•

### ğŸ” æµ‹è¯•é…ç½®

```toml
# tests/test_config.toml - å•å…ƒæµ‹è¯•é…ç½®
[files]
obj = "tests/assets/cube.obj"
output = "test_output"

[render]
width = 256
height = 256
```

## ç‰ˆæœ¬å†å²

### ğŸ‰ v2.0.0 (Current)

- âœ¨ **å…¨æ–°TOMLé…ç½®ç³»ç»Ÿ**
- ğŸ–¥ï¸ **ç°ä»£åŒ–GUIç•Œé¢é‡æ„**  
- ğŸ“ **é…ç½®æ–‡ä»¶ç®¡ç†åŠŸèƒ½**
- ğŸ”¥ **å¢å¼ºAOå’Œè½¯é˜´å½±ç®—æ³•**
- ğŸ¬ **é¢„æ¸²æŸ“åŠ¨ç”»ç³»ç»Ÿ**
- ğŸ–±ï¸ **ä¸“ä¸šçº§ç›¸æœºäº¤äº’**

### v1.x Legacy

- åŸºç¡€å…‰æ …åŒ–æ¸²æŸ“å™¨
- CLIå‚æ•°é…ç½®
- Phong/PBRç€è‰²æ¨¡å‹
- å¤šçº¿ç¨‹æ¸²æŸ“æ”¯æŒ

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è‡´è°¢

- **egui**: ç°ä»£åŒ–Rust GUIæ¡†æ¶
- **nalgebra**: é«˜æ€§èƒ½çº¿æ€§ä»£æ•°åº“
- **image**: å›¾åƒå¤„ç†åº“
- **toml**: TOMLé…ç½®è§£æ
- **clap**: CLIå‚æ•°è§£æ

---

<div align="center">

**ğŸ¨ ç”¨Rusté‡æ–°å®šä¹‰è½¯ä»¶å…‰æ …åŒ–æ¸²æŸ“ ğŸ¨**

[ğŸ”— GitHubä»“åº“](https://github.com/Rukkhadevata123/Rasterizer_rust) | [ğŸ“š æ–‡æ¡£](README.md) | [ğŸ› é—®é¢˜åé¦ˆ](https://github.com/Rukkhadevata123/Rasterizer_rust/issues)

</div>
